<!DOCTYPE html>
<html>
  <head>
    <title>Thermostat</title>
  </head>
  <body>
    <section>
      <h1 id="temperature">current temp.</h1>
      <h1 id="energyusage">current usage</h1>
      <p>
        <button id="temperature-up">+</button>
        <button id="temperature-down">-</button>
        <button id="temperature-reset">reset</button>
        power saving mode is <span id="power-saving-status">on </span>
        <button id="powersaving-on-off">PSM switch</button>
      </p>
    </section>
  </body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="src/thermostat.js"></script>
<script>
  $(document).ready(function() {
  var thermostat = new Thermostat();
  updateTemp();
  $('#energyusage').text(thermostat.energyUsage());

  $( '#temperature-up' ).click(function( event ) {
    thermostat.up();
    updateTemp();
    });

    $( '#temperature-down' ).click(function( event ) {
      thermostat.down();
      updateTemp();
      });

      $( '#temperature-reset' ).click(function( event ) {
        thermostat.reset();
        thermostat.switchMode();
        updateTemp();
        $('#power-saving-status').text(psmMessage());
        });

        $( '#powersaving-on-off' ).click(function( event ) {
          thermostat.switchMode();
          $('#power-saving-status').text(psmMessage());
          });

          function updateTemp() {
            $('#temperature').text(thermostat.temperature);
          };

          function psmMessage() {
            if(thermostat.powerSavingMode) {
              return 'on';
            } else {
              return 'off';
            }
          }
})
$('#energyusage').text(thermostat.energyUsage());
  </script>
